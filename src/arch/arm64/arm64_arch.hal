// src/arch/arm64/arm64_arch.hal

//! Configura√ß√µes da Hardware Abstraction Layer (HAL) para ARM64.
//! 
//! Cont√©m constantes de MMIO e defini√ß√µes espec√≠ficas para o ecossistema ARMv8/AArch64.

#![allow(dead_code)]

// ------------------------------------------------------------------------
// --- ‚öôÔ∏è Configura√ß√£o Geral da Arquitetura ---
// ------------------------------------------------------------------------

/// String de identifica√ß√£o da arquitetura.
pub const ARCH_NAME: &str = "arm64";

// ------------------------------------------------------------------------
// --- üíæ Configura√ß√£o da Mem√≥ria (Padr√µes ARM64) ---
// ------------------------------------------------------------------------

/// Tamanho da p√°gina padr√£o (4 KB) em bytes.
pub const PAGE_SIZE: usize = 4096;

/// Endere√ßo inicial da aloca√ß√£o de mem√≥ria f√≠sica DRAM.
pub const DRAM_PHYS_START: usize = 0x40000000; // Exemplo comum

/// Offset de Mapeamento Alto (Higher-half) para o Kernel ARM64.
/// Onde a mem√≥ria f√≠sica √© mapeada para o espa√ßo virtual do kernel.
pub const KERNEL_MMIO_OFFSET: usize = 0xFFFFFFFF_C0000000;

// ------------------------------------------------------------------------
// --- üîó Perif√©ricos de MMIO (Memory Mapped I/O) ---
// ------------------------------------------------------------------------

/// Endere√ßo de MMIO para o UART (porta serial) principal.
/// (Exemplo: Baseado em Raspberry Pi 3/4 ou QEMU VersatilePB/virt)
pub const UART_MMIO_BASE: usize = 0x3F201000; // Exemplo de um endere√ßo Fict√≠cio/BCM

/// Endere√ßo de MMIO para o Controlador de Interrup√ß√£o Gen√©rico (GIC) - Distribuidor.
pub const GIC_DISTRIBUTOR_BASE: usize = 0xFF840000; // Exemplo

/// Endere√ßo de MMIO para o GIC - Redistribuidor.
pub const GIC_REDISTRIBUTOR_BASE: usize = 0xFF850000; // Exemplo

// ------------------------------------------------------------------------
// --- ‚è±Ô∏è Temporizador ---
// ------------------------------------------------------------------------

/// Endere√ßo de MMIO para o System Timer (se usado).
pub const SYS_TIMER_BASE: usize = 0x3F003000; // Exemplo
